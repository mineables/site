webpackJsonp([5],{"+527":function(t,e,n){"use strict";function r(t){n("3ZrS")}var a=n("Vptc"),s=n("gTXV"),i=n("VU/8"),o=r,l=i(a.a,s.a,!1,o,null,null);e.a=l.exports},"/uYN":function(t,e,n){var r=n("KTEi");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);n("rjj0")("47a3ad94",r,!0,{})},"3ZrS":function(t,e,n){var r=n("WtXk");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);n("rjj0")("e8b7c678",r,!0,{})},"8XPH":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("section",{attrs:{id:"quarry"}},[n("div",{staticClass:"container"},[n("h2",{staticClass:"header-text"},[t._v("Mineable Tokens")]),t._v(" "),n("x-quarry-table")],1)])])},a=[],s={render:r,staticRenderFns:a};e.a=s},KTEi:function(t,e,n){e=t.exports=n("FZ+f")(!0),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"Tokens.vue",sourceRoot:""}])},KfzI:function(t,e,n){"use strict";var r=n("+527");e.a={name:"Quarry",components:{xQuarryTable:r.a}}},Vptc:function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(a,s){try{var i=e[a](s),o=i.value}catch(t){return void n(t)}if(!i.done)return Promise.resolve(o).then(function(t){r("next",t)},function(t){r("throw",t)});t(o)}return r("next")})}}var a=n("S6aO").explorer_url;e.a={name:"xQuarryTable",data:function(){return{quarry:[],loading:!0,completedTxn:!1,txUrl:a,approvalTx:"Pending...",selected:null,currentTokenAddress:null,options:[{value:null,text:"Please select a vRig"}],vrigMap:new Map}},methods:{clearSelected:function(){this.selected=null,this.loading=!1,this.completedTxn=!1},setTokenAddr:function(t){console.log(t),this.currentTokenAddress=t},removeVrig:function(){function t(t){return e.apply(this,arguments)}var e=r(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,this.MineableContract.at(e);case 3:return n=t.sent,t.next=6,n.uninstallBooster();case 6:this.loading=!1,this.quarry=[],this.loadQuarry(),this.$refs.uninstallModal.hide(),this.completedTxn=!0;case 11:case"end":return t.stop()}},t,this)}));return t}(),installRig:function(){function t(t){return e.apply(this,arguments)}var e=r(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.loading=!0,e.preventDefault(),console.log(this.selected),null!==this.selected){t.next=6;break}return this.$refs.modal.hide(),t.abrupt("return");case 6:return t.next=8,this.MineableContract.at(this.currentTokenAddress);case 8:return n=t.sent,t.next=11,n.installBooster(this.selected);case 11:this.loading=!1,this.quarry=[],this.loadQuarry(),this.$refs.modal.hide(),this.completedTxn=!0;case 16:case"end":return t.stop()}},t,this)}));return t}(),initContracts:function(){function t(){return e.apply(this,arguments)}var e=r(regeneratorRuntime.mark(function t(){var e,n,r,a,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.vrigContract.balanceOf(window.web3.eth.coinbase);case 2:e=t.sent,n=0;case 4:if(!(n<e)){t.next=19;break}return t.next=7,this.vrigContract.tokenOfOwnerByIndex(window.web3.eth.coinbase,n);case 7:return r=t.sent,t.next=10,this.vrigContract.mergedStats(r);case 10:a=t.sent,s={},s.value=r.toNumber(),s.text=a[0],this.options.push(s),this.vrigMap.set(s.value,s.text);case 16:n++,t.next=4;break;case 19:case"end":return t.stop()}},t,this)}));return t}(),loadQuarry:function(){function t(){return e.apply(this,arguments)}var e=r(regeneratorRuntime.mark(function t(){var e,n,r,a,s,i,o,l,u,c,d,p,h,f,m,v,b,A,g;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.mithrilContract.address,n=this.mithrilContract,t.next=4,n.symbol();case 4:return r=t.sent,t.next=7,n.totalSupply();case 7:return a=t.sent,t.next=10,n.decimals();case 10:return s=t.sent,t.next=13,n.getMiningDifficulty();case 13:return i=t.sent,t.next=16,n.getInstalledBooster();case 16:return o=t.sent,t.next=19,n.tokensMinted();case 19:return l=t.sent,this.quarry.push({tokensMinted:l/Math.pow(10,s),addr:e,symbol:r,supply:a/Math.pow(10,s),remainingSupply:a/Math.pow(10,s)-l/Math.pow(10,s),diff:i.toNumber(),installed:0===o.toNumber()?"none":o.toNumber()}),u=this.quarryContract,t.next=24,u.mineableSize();case 24:c=t.sent,d=0;case 26:if(!(d<c)){t.next=57;break}return t.next=29,u.getMineableAt(d);case 29:return p=t.sent,t.next=32,this.MineableContract.at(p);case 32:return h=t.sent,t.next=35,h.symbol();case 35:return f=t.sent,t.next=38,h.totalSupply();case 38:return m=t.sent,t.next=41,h.decimals();case 41:return v=t.sent,t.next=44,h.getMiningDifficulty();case 44:return b=t.sent,t.next=47,h.getInstalledBooster();case 47:return A=t.sent,t.next=50,h.tokensMinted();case 50:g=t.sent,this.quarry.push({tokensMinted:g/Math.pow(10,v),addr:p,symbol:f,supply:m/Math.pow(10,v),remainingSupply:m/Math.pow(10,v)-g/Math.pow(10,v),diff:b.toNumber(),installed:0===A.toNumber()?"none":A.toNumber()}),d===c-1&&(this.loading=!1),0===c&&(this.loading=!1);case 54:d++,t.next=26;break;case 57:case"end":return t.stop()}},t,this)}));return t}()},mounted:function(){function t(){return e.apply(this,arguments)}var e=r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.web3.eth.defaultAccount){t.next=3;break}return t.next=3,this.initContracts();case 3:return t.next=5,this.loadQuarry();case 5:case"end":return t.stop()}},t,this)}));return t}()}},WtXk:function(t,e,n){e=t.exports=n("FZ+f")(!0),e.push([t.i,"#loading{text-align:center;vertical-align:middle}#quarryTable .mdl-progress{width:100%}#quarryTable .mdl-data-table{table-layout:fixed;width:100%}#quarryTable td,th{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-o-text-overflow:ellipsis}.loading{color:#3ee9b5}.loader{border:16px solid #f3f3f3;border-top:16px solid #3498db;border-radius:50%;width:10px;height:10px;animation:spin 2s linear infinite}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}","",{version:3,sources:["/Users/jaylogelin/Documents/mineables/site/src/components/QuarryTable.vue"],names:[],mappings:"AACA,SACE,kBAAkB,AAClB,qBAAsB,CACvB,AACD,2BACE,UAAY,CACb,AACD,6BACE,mBAAmB,AACnB,UAAW,CACZ,AACD,mBACE,WAAY,AACZ,mBAAoB,AACpB,gBAAiB,AACjB,uBAAwB,AACxB,yBAA2B,CAC5B,AACD,SACE,aAAe,CAChB,AACD,QACI,0BAA2B,AAC3B,8BAA+B,AAC/B,kBAAmB,AACnB,WAAY,AACZ,YAAa,AACb,iCAAmC,CACtC,AACD,gBACA,GAAK,sBAAwB,CAC5B,AACD,GAAO,uBAA0B,CAChC,CACA",file:"QuarryTable.vue",sourcesContent:["\n#loading {\n  text-align:center; \n  vertical-align:middle;\n}\n#quarryTable .mdl-progress {\n  width: 100%;\n}\n#quarryTable .mdl-data-table {\n  table-layout:fixed;\n  width:100%;\n}\n#quarryTable td, th {\n  width: 100%;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  -o-text-overflow: ellipsis;\n}\n.loading {\n  color: #3ee9b5;\n}\n.loader {\n    border: 16px solid #f3f3f3; /* Light grey */\n    border-top: 16px solid #3498db; /* Blue */\n    border-radius: 50%;\n    width: 10px;\n    height: 10px;\n    animation: spin 2s linear infinite;\n}\n@keyframes spin {\n0% { transform: rotate(0deg);\n}\n100% { transform: rotate(360deg);\n}\n}\n"],sourceRoot:""}])},gTXV:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("table",{ref:"quarryTable",staticClass:"table",attrs:{id:"quarryTable"}},[t._m(0),t._v(" "),n("tbody",t._l(t.quarry,function(e,r){return n("tr",{key:r},[n("td",[n("router-link",{attrs:{to:{name:"token",params:{addr:e.addr}}},domProps:{textContent:t._s(e.symbol)}})],1),t._v(" "),n("td",{domProps:{textContent:t._s(e.tokensMinted)}}),t._v(" "),n("td",{domProps:{textContent:t._s(e.supply)}}),t._v(" "),n("td",{domProps:{textContent:t._s(e.remainingSupply)}}),t._v(" "),n("td",{domProps:{textContent:t._s(e.diff)}}),t._v(" "),"none"==e.installed?n("td",{domProps:{textContent:t._s(e.installed)}}):t._e(),t._v(" "),"none"!=e.installed?n("td",[n("h5",[n("b-badge",{attrs:{variant:"light"}},[t._v(t._s(t.vrigMap.get(e.installed)))])],1)]):t._e(),t._v(" "),n("td",["none"!=e.installed?n("button",{directives:[{name:"b-modal",rawName:"v-b-modal.uninstallVRig",modifiers:{uninstallVRig:!0}},{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-outline-danger btn-sm",attrs:{title:"Remove vRig",type:"button"},on:{click:function(n){return t.removeVrig(e.addr)}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])]):t._e(),t._v(" "),n("button",{directives:[{name:"b-modal",rawName:"v-b-modal.installVRig",modifiers:{installVRig:!0}},{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-outline-success btn-sm",attrs:{title:"Install vRig",type:"button"},on:{click:function(n){return t.setTokenAddr(e.addr)}}},[t._v("\n                update\n              ")])])])}),0)]),t._v(" "),n("b-modal",{ref:"modal",attrs:{id:"installVRig",title:"Install vRig onto Mineable Contract","no-close-on-esc":"","no-close-on-backdrop":"","hide-header-close":"","hide-footer":""},on:{ok:t.installRig,shown:t.clearSelected}},[t.loading?t._e():n("form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[n("b-form-select",{staticClass:"mb-3",attrs:{options:t.options},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1),t._v(" "),t.loading?n("b-alert",{attrs:{show:"",variant:"warning"}},[t._v("\n      Please don't refresh this page until the transaction is completed.\n      "),n("b-progress",{attrs:{value:100,max:100,striped:t.loading,animated:t.loading}}),n("br")],1):t._e(),t._v(" "),t.completedTxn?n("b-alert",{attrs:{show:"",variant:"warning"}},[n("a",{attrs:{href:t.txUrl+t.approvalTx,target:"_blank"}},[t._v("Transaction complete.")])]):t._e(),t._v(" "),t.loading?t._e():n("b-btn",{staticClass:"mt-2",attrs:{variant:"outline-info",block:""},on:{click:t.installRig}},[t._v("Install")])],1),t._v(" "),n("b-modal",{ref:"uninstallModal",attrs:{id:"uninstallVRig",title:"Uninstall vRig from Mineable Contract","no-close-on-esc":"","no-close-on-backdrop":"","ok-disabled":"","cancel-disabled":"","hide-header-close":"","hide-footer":""},on:{ok:t.installRig,shown:t.clearSelected}},[n("b-alert",{attrs:{show:"",variant:"warning"}},[t._v("\n      Please don't refresh this page until the transaction is completed.\n      "),n("b-progress",{attrs:{value:100,max:100,striped:!0,animated:!0}}),n("br")],1)],1)],1)},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",{staticClass:"thead-dark"},[n("tr",[n("th",[t._v("\n               Symbol\n            ")]),t._v(" "),n("th",[t._v("Minted")]),t._v(" "),n("th",[t._v("Total Supply")]),t._v(" "),n("th",[t._v("Remaining")]),t._v(" "),n("th",[t._v("Difficulty")]),t._v(" "),n("th",[t._v("vRig")]),t._v(" "),n("th",[t._v("Actions")])])])}],s={render:r,staticRenderFns:a};e.a=s},oETp:function(t,e,n){"use strict";function r(t){n("/uYN")}Object.defineProperty(e,"__esModule",{value:!0});var a=n("KfzI"),s=n("8XPH"),i=n("VU/8"),o=r,l=i(a.a,s.a,!1,o,null,null);e.default=l.exports}});
//# sourceMappingURL=5.7ab280d925fd9fc94df2.js.map